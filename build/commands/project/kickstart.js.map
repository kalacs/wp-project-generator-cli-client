{"version":3,"sources":["../components/LoadingIndicator.js","../components/Fetcher.js","../services/http-client.js","../services/wp-manager-client.js","../components/TextInput.js","../components/SelectInput.js","../components/MultiSelectInput.js","../utils/factories/field-creators.js","../components/Error.js","../components/FormField.js","project/create.js","services/create.js","services-wordpress/install.js","project/kickstart.js"],"names":["LoadingIndicator","isLoading","loadingMessage","propTypes","PropTypes","bool","isRequired","string","DisplayData","data","undefined","DisplayError","error","Fetcher","beforeLoadingMessage","DataDisplayer","ErrorDisplayer","fetchData","dataMapper","errorHandler","toString","setIsLoading","setData","setError","onLoad","onData","response","onError","fetch","call","afterLoadingMessage","func","getConfig","user","password","baseURL","logger","trace","info","makeClient","axiosInstance","axios","create","paramsSerializer","params","qs","stringify","Endpoint","authEndpoint","TWO_PARAM_METHODS","createAuthHeader","token","decorateEnpointParams","paramIndex","headers","paramsCopy","slice","options","splice","Object","assign","authToken","login","post","email","makeEndpointWithAuth","path","client","endpoint","authorizationHandler","get","target","propKey","origProperty","args","optionParamIndex","indexOf","apply","status","Proxy","createWPManagerClient","projectsEndpoint","createWordpressProject","getProjectServicesStatuses","name","projectServicesEndpoint","destroyProjectServices","delete","startProjectServices","command","stopProjectServices","createProjectServices","installProjectServiceWordpress","projectPrefix","TextInput","onBlur","onFocus","props","React","useEffect","SelectInput","onSubmit","onChange","value","MultiSelectInput","v","concat","filter","item","createTextInput","label","placeholder","format","validate","Input","createSelectInput","inputConfig","createMultiSelectInput","Error","children","FormField","isActive","input","meta","invalid","touched","valid","inactive","wpManagerClient","fields","toLowerCase","replace","Generate","activeField","setActiveField","useState","submission","setSubmission","handleSubmit","validating","map","index","length","bind","project","prefix","Create","noFormatNoPlaceholderRequired","Install","initialValues","getName","ProjectKickstart","firstTaskData","setFirstTaskData","secondTaskData","setSecondTaskData","thirdTaskData","setThirdTaskData","getInitialValues","webserver","port","container","network","url"],"mappings":"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","file":"kickstart.js","sourceRoot":"../../commands","sourcesContent":["import React, { Fragment } from 'react';\nimport { Box, Text, Color } from 'ink';\nimport Spinner from 'ink-spinner';\nimport PropTypes from 'prop-types';\n\nconst LoadingIndicator = ({ isLoading, loadingMessage = 'Fetching data from server'}) => (\n    <Fragment>\n        {\n            isLoading\n            ?\n            <Box>\n                <Text bold>{loadingMessage}</Text>\n                <Color green><Spinner type=\"point\" /></Color>\n            </Box>\n            :\n            <Box>\n                <Text> </Text>\n            </Box>\n        }\n    </Fragment>\n)\n\nLoadingIndicator.propTypes = {\n    isLoading: PropTypes.bool.isRequired,\n    loadingMessage: PropTypes.string.isRequired,\n}\n\nexport default LoadingIndicator;","import React, { Fragment, useState, useEffect, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, Box, Color } from 'ink';\nimport LoadingIndicator from './LoadingIndicator';\n\nconst DisplayData = ({ data }) => (\n    <Fragment>\n        { data === undefined ? <Text>No data yet</Text> : <Text>{data}</Text>}\n    </Fragment>\n);\n\nconst DisplayError = ({ error }) => (\n    <Fragment>\n        { error ? <Color red><Text>{error}</Text></Color> : <Text> </Text>}        \n    </Fragment>\n);\n\nconst Fetcher = ({\n    beforeLoadingMessage,\n    DataDisplayer = DisplayData,\n    ErrorDisplayer = DisplayError,\n    fetchData,\n    dataMapper = data => data,\n    errorHandler = error => error.toString(),\n}) => {\n\n\tconst [ isLoading, setIsLoading ] = useState(false);\n\tconst [ data, setData ] = useState();\n    const [ error, setError ] = useState('');\n    const onLoad = setIsLoading;\n\n    const onData = response => {\n       setData(dataMapper(response));\n    };\n\n    const onError = (error) => {\n        setError(errorHandler(error))\n    };\n\n    useEffect(() => {\n        async function fetch() {\n\t\t\ttry {\n\t\t\t\tonLoad(true);\n\t\t\t\tconst response = await fetchData.call();\n                onData(response);\n\t\t\t\tonLoad(false);\n\t\t\t} catch (error) {\n\t\t\t\tonLoad(false);\n                onData(null);\n                onError(error)\n            }\n\t\t}\n\t\tfetch();\n    }, [fetchData]);\n    return (\n        <Fragment>\n            <Box>\n                <LoadingIndicator\n                    isLoading={isLoading}\n                    loadingMessage={beforeLoadingMessage}\n                />\n            </Box>\n            <Box>\n                <DataDisplayer data={data}/>\n            </Box>\n            <Box>\n                <ErrorDisplayer error={error}/>\n            </Box>\n        </Fragment>\n    );\n};\n\nFetcher.propTypes = {\n    afterLoadingMessage: PropTypes.string,\n    beforeLoadingMessage: PropTypes.string,\n    fetchData: PropTypes.func.isRequired,\n    dataMapper: PropTypes.func,\n    errorHandler: PropTypes.func\n};\n\nexport default memo(Fetcher);","import axios from 'axios';\nimport { default as EndpointFactory } from 'axios-endpoints';\nimport qs from 'qs';\n\nexport const getConfig = () => ({\n    user: 'test',\n    password: 'test',\n    baseURL: 'http://127.0.0.1:3000',\n    logger: {\n\t\ttrace: () => {},\n\t\tinfo: () => {},\n\t\terror: () => {}\n\t}\n});\n\nexport default function makeClient({\n    user,\n    password,\n    baseURL,\n    logger\n}) {\n    const axiosInstance = axios.create({\n        baseURL,\n        paramsSerializer: function (params) {\n            return qs.stringify(params);\n        }\n    });\n    const Endpoint = EndpointFactory(axiosInstance);\n    const authEndpoint = new Endpoint('/auth/login');\n    const TWO_PARAM_METHODS = [\n        'post',\n        'put',\n        'patch'\n    ];\n    const createAuthHeader = (token) => ({ 'Authorization' : `Bearer ${token}`});\n    const decorateEnpointParams = (params, paramIndex, headers) => {\n        const paramsCopy = params.slice(0);\n        const [ options ] = paramsCopy.slice(paramIndex)\n\n        if (!options) paramsCopy.splice(paramIndex, 1, { headers: headers })\n        else paramsCopy.splice(paramIndex, 1, Object.assign({}, options, { headers: headers }))\n        return paramsCopy;\n    }\n    logger.trace({ axiosInstance },'axios client');    \n\n    return {\n        authToken: null,\n        async login() {\n            return await authEndpoint.post({\n                email: user,\n                password\n            })\n        },\n        makeEndpointWithAuth(path) {\n            logger.trace({ path },'makeEndpointWithAuth');    \n            const client = this;\n            const endpoint = new Endpoint(path);\n            const authorizationHandler = {\n                get(target, propKey) {\n                    const origProperty = target[propKey];\n                    logger.trace({ origProperty },'Trap function call in endpoint');    \n\n                    if (typeof origProperty !== 'function') {\n                        return origProperty;\n                    }\n\n                    return async function (...args) {\n                        const optionParamIndex = (TWO_PARAM_METHODS.indexOf(origProperty) > -1 ) ? 1 : 0;\n                        const params = decorateEnpointParams(args, optionParamIndex, createAuthHeader(client.authToken));\n                        logger.trace({ optionParamIndex, params },'Call params');    \n\n                        try {\n                            const response = await origProperty.apply(this, params);\n                            const { status } = response;\n                            logger.info({ status }, 'Http client response status');    \n\n                            return response;\n                        } catch (error) {\n                            logger.error({ error }, 'Http client error');\n\n                            if (!error.response || error.response.status !== 401) {\n                                throw error;\n                            }\n                            const { status } = error.response;\n\n                            try {\n                                logger.trace({ status }, 'Try to sign in');\n                                const { data: { token } } = await client.login();\n                                client.authToken = token;\n                                logger.trace({ token }, 'Token');                                        \n\n                                logger.trace('Run request after login');\n                                const response = await origProperty.apply(this, decorateEnpointParams(params, optionParamIndex, createAuthHeader(client.authToken)));\n                                logger.info({ status }, 'Http client secodresponse status');    \n    \n                                return response;\n\n                            } catch (error) {\n                                logger.error({ error }, 'Login error');                                        \n                                throw error;\n                            }\n                        }\n                    };\n                }\n            };\n            return new Proxy(endpoint, authorizationHandler);\n        }\n    };\n}","import makeClient from '../services/http-client';\n\nexport default function createWPManagerClient({\n    user,\n    password,\n    baseURL,\n    logger\n  }) {\n    const client = makeClient({\n        user,\n        password,\n        baseURL,\n        logger\n      })  \n      const projectsEndpoint = client.makeEndpointWithAuth('/wordpress-project');\n\n    return {\n        createWordpressProject: params => projectsEndpoint.post(params),\n        getProjectServicesStatuses: name => {\n          const projectServicesEndpoint = client.makeEndpointWithAuth(`/wordpress-project/${name}/services`);\n          return projectServicesEndpoint.get();\n        },\n        destroyProjectServices: name => (client.makeEndpointWithAuth(`/wordpress-project/${name}/services`)).delete(),\n        startProjectServices: name => (client.makeEndpointWithAuth(`/wordpress-project/${name}/services`)).post({ command: 'restart' }),\n        stopProjectServices: name => (client.makeEndpointWithAuth(`/wordpress-project/${name}/services`)).post({ command: 'stop' }),\n        createProjectServices: name => (client.makeEndpointWithAuth(`/wordpress-project/${name}/services`)).post({ command: 'up' }),\n        installProjectServiceWordpress: params => (client.makeEndpointWithAuth(`/wordpress-project/${params.projectPrefix}/services/wordpress`)).post(params),\n    }\n}","import React from 'react'\nimport InkTextInput from 'ink-text-input'\n\nexport default function TextInput({ onBlur, onFocus, ...props }) {\n\tReact.useEffect(() => {\n\t\tonFocus()\n\t\treturn onBlur\n\t}, [onFocus, onBlur])\n\treturn <InkTextInput {...props} />\n}","import React from 'react'\nimport InkSelectInput from 'ink-select-input'\n\nexport default function SelectInput({\n\tonSubmit,\n\tonBlur,\n\tonChange,\n\tonFocus,\n\t...props\n}) {\n\tReact.useEffect(() => {\n\t\tonFocus()\n\t\treturn onBlur\n\t}, [onFocus, onBlur])\n\treturn (\n\t\t<InkSelectInput\n\t\t\t{...props}\n\t\t\tonSelect={({ value }) => {\n\t\t\t\tonChange(value)\n\t\t\t\tonSubmit()\n\t\t\t}}\n\t\t/>\n\t)\n}","import React from 'react'\nimport InkMultiSelect from 'ink-multi-select'\n\nexport default function MultiSelectInput({\n\tonBlur,\n\tonChange,\n\tonFocus,\n\tvalue = [],\n\t...props\n}) {\n\tReact.useEffect(() => {\n\t\tonFocus()\n\t\treturn onBlur\n\t}, [onFocus, onBlur])\n\treturn (\n\t\t<InkMultiSelect\n\t\t\t{...props}\n\t\t\tonSelect={({ value: v }) => onChange(value.concat(v))}\n\t\t\tonUnselect={({ value: v }) => onChange(value.filter(item => item !== v))}\n\t\t/>\n\t)\n}","import TextInput from '../../components/TextInput'\nimport SelectInput from '../../components/SelectInput'\nimport MultiSelectInput from '../../components/MultiSelectInput'\n\nexport const createTextInput = (name, label, placeholder = '', format = value => value || '', validate = () => undefined) => ({\n\tname,\n\tlabel,\n\tplaceholder,\n\tformat,\n\tvalidate,\n\tInput: TextInput\n})\n\nexport const createSelectInput = (name, label, inputConfig, format = value => value || '', validate = () => undefined) => ({\n\tname,\n\tlabel,\n\tinputConfig,\n\tformat,\n\tvalidate,\n\tInput: SelectInput\n})\n\nexport const createMultiSelectInput = (name, label, inputConfig, format = value => value, validate = undefined) => ({\n\tname,\n\tlabel,\n\tinputConfig,\n\tformat,\n\tvalidate,\n\tInput: MultiSelectInput\n})","import React from 'react'\nimport { Box, Color } from 'ink'\n\nexport default function Error({ children }) {\n\treturn (\n\t\t<Box>\n\t\t\t<Color red>{children}</Color>\n\t\t</Box>\n\t)\n}","import React from 'react';\nimport { Field } from 'react-final-form'\nimport { Box, Color, Text } from 'ink'\nimport Error from '../components/Error'\n\nconst FormField = (\n    {\n        name,\n        label,\n        placeholder,\n        format,\n        validate,\n        Input,\n        inputConfig,\n        onSubmit,\n        isActive\n    }\n) => (\n    <Field name={name} key={name} format={format} validate={validate}>\n        {({ input, meta }) => (\n            <Box flexDirection=\"column\">\n                <Box>\n                    <Text bold={isActive}>{label}: </Text>\n                    {isActive ? (\n                        <Input\n                            {...input}\n                            {...inputConfig}\n                            placeholder={placeholder}\n                            onSubmit={() => {\n                                onSubmit({ input, meta })\n                            }}\n                        />\n                    ) : (\n                        (input.value && <Text>{input.value}</Text>) ||\n                        (placeholder && <Color gray>{placeholder}</Color>)\n                    )}\n                    {meta.invalid && meta.touched && (\n                        <Box marginLeft={2}>\n                            <Color red>✖</Color>\n                        </Box>\n                    )}\n                    {meta.valid && meta.touched && meta.inactive && (\n                        <Box marginLeft={2}>\n                            <Color green>✔</Color>\n                        </Box>\n                    )}\n                </Box>\n                {meta.error && meta.touched && <Error>{meta.error}</Error>}\n            </Box>\n        )}\n    </Field>\n)\n\nexport default FormField;","import React, { memo } from 'react'\nimport { Form } from 'react-final-form'\nimport { Box } from 'ink'\nimport Fetcher from '../../components/Fetcher';\nimport createWPManagerClient from '../../services/wp-manager-client';\nimport { createTextInput } from '../../utils/factories/field-creators';\nimport FormField from '../../components/FormField';\nimport { getConfig } from '../../services/http-client';\n\nconst wpManagerClient = createWPManagerClient(getConfig());\nconst isRequired = value => !value ? 'Required' : undefined; \n\nconst fields = [\n\tcreateTextInput(\n\t\t'project.prefix',\n\t\t'Project prefix',\n\t\t'my-awesome-project',\n\t\tvalue => value ? value\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.replace(/[^a-z \\\\-]/g, '')\n\t\t\t\t\t\t\t.replace(/ /g, '-')\n\t\t\t\t\t\t: '',\n\t\tisRequired\n\t),\n\tcreateTextInput('project.database.name', 'Database name', '', undefined, isRequired),\n\tcreateTextInput('project.database.user', 'Database user', '', undefined, isRequired),\n\tcreateTextInput('project.database.password', 'Database password', '', undefined, isRequired),\n\tcreateTextInput('project.database.rootPassword', 'Database root password', '', undefined, isRequired),\n\tcreateTextInput('project.webserver.port', 'Webserver port', '', undefined, isRequired),\n]\n\n/// Generate new wordpress project from template\nconst Generate = ({ onData }) => {\n\tconst [activeField, setActiveField] = React.useState(0)\n\tconst [submission, setSubmission] = React.useState()\n\n\treturn (\n\t\t<Box flexDirection=\"column\">\n\t\t\t<Form onSubmit={setSubmission}>\n\t\t\t\t{({ handleSubmit, validating }) => (\n\t\t\t\t\t<Box flexDirection=\"column\">\n\t\t\t\t\t\t{fields.map((\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\t\tInput,\n\t\t\t\t\t\t\t\tinputConfig,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t) => (<FormField key={name} {...{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tInput,\n\t\t\t\t\t\t\tinputConfig,\n\t\t\t\t\t\t\tisActive: activeField === index,\n\t\t\t\t\t\t\tonSubmit: ({ meta, input}) => {\n\t\t\t\t\t\t\t\tif (meta.valid && !validating) {\n\t\t\t\t\t\t\t\t\tsetActiveField(value => value + 1) // go to next field\n\t\t\t\t\t\t\t\t\tif (activeField === fields.length - 1) {\n\t\t\t\t\t\t\t\t\t\t// last field, so submit\n\t\t\t\t\t\t\t\t\t\thandleSubmit()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tinput.onBlur() // mark as touched to show error\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}} />))}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Form>\n\t\t\t{\n\t\t\t\tsubmission\n\t\t\t\t?\n\t\t\t\t<Fetcher\n\t\t\t\t\tfetchData={wpManagerClient.createWordpressProject.bind(null, submission)}\n\t\t\t\t\tbeforeLoadingMessage={`Generating project: \"${submission.project.prefix}\"`}\n\t\t\t\t\tdataMapper={(response) => {\n\t\t\t\t\t\tonData(submission);\n\t\t\t\t\t\treturn response && response.status === 200 ? 'Project structure has been created':'Something went wrong';\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t:\n\t\t\t\t''\n\t\t\t}\n\t\t</Box>\n\t)\n}\nexport default memo(Generate);","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box } from 'ink';\nimport createWPManagerClient from '../../services/wp-manager-client';\nimport { getConfig } from '../../services/http-client';\nimport Fetcher from '../../components/Fetcher';\n\nconst wpManagerClient = createWPManagerClient(getConfig());\n/// Create services\nconst Create = ({ name, onData = () => {} }) => {\n\treturn (\n\t\t<Box flexDirection=\"column\">\n\t\t\t<Fetcher\n\t\t\t\tfetchData={wpManagerClient.createProjectServices.bind(null, name)}\n\t\t\t\tbeforeLoadingMessage={`Start \"${name}\" project's services `}\n\t\t\t\tdataMapper={response => {\n\t\t\t\t\tonData(response);\n\t\t\t\t\treturn response && response.status === 200 ? 'Services have been started.':'Something went wrong';\t\t\t\t\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Box>\n\t);\n};\n\nCreate.propTypes = {\n\t/// Name of the project\n\tname: PropTypes.string.isRequired\n};\n\nexport default memo(Create);\n","import React, { memo } from 'react'\nimport { Form } from 'react-final-form'\nimport { Box } from 'ink'\nimport createWPManagerClient from '../../services/wp-manager-client';\nimport { createTextInput } from '../../utils/factories/field-creators';\nimport FormField from '../../components/FormField';\nimport Fetcher from '../../components/Fetcher';\n\nconst wpManagerClient = createWPManagerClient({\n    user: 'test',\n    password: 'test',\n    baseURL: 'http://127.0.0.1:3000',\n    logger: {\n\t\ttrace: () => {},\n\t\tinfo: () => {},\n\t\terror: () => {}\n\t}\n});\nconst isRequired = value => !value ? 'Required' : undefined; \nconst noFormatNoPlaceholderRequired = (name, label) => [name, label, '', undefined, isRequired];\nconst fields = [\n\tcreateTextInput(...noFormatNoPlaceholderRequired('projectPrefix', 'Project name')),\n\tcreateTextInput(...noFormatNoPlaceholderRequired('container', 'Container name')),\n\tcreateTextInput(...noFormatNoPlaceholderRequired('network', 'Network name')),\n\tcreateTextInput(...noFormatNoPlaceholderRequired('url', 'WP Url')),\n\tcreateTextInput(...noFormatNoPlaceholderRequired('title', 'Title')),\n\tcreateTextInput(...noFormatNoPlaceholderRequired('adminName', 'Admin name')),\n\tcreateTextInput(...noFormatNoPlaceholderRequired('adminPassword', 'Admin password')),\n\tcreateTextInput(...noFormatNoPlaceholderRequired('adminEmail', 'Admin email')),\n]\n\n/// Install generated and started wordpress\nconst Install = ({ initialValues, onData }) => {\n\tconst [activeField, setActiveField] = React.useState(0)\n\tconst [submission, setSubmission] = React.useState()\n\n\treturn (\n\t\t<Form onSubmit={setSubmission} initialValues={initialValues}>\n\t\t\t{({ handleSubmit, validating }) => (\n\t\t\t\t<Box flexDirection=\"column\">\n\t\t\t\t\t{fields.map((\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\tformat,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tInput,\n\t\t\t\t\t\t\tinputConfig,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tindex\n\t\t\t\t\t) => (<FormField key={name} {...{\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\tformat,\n\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\tInput,\n\t\t\t\t\t\tinputConfig,\n\t\t\t\t\t\tisActive: activeField === index,\n\t\t\t\t\t\tonSubmit: ({ meta, input}) => {\n\t\t\t\t\t\t\tif (meta.valid && !validating) {\n\t\t\t\t\t\t\t\tsetActiveField(value => value + 1) // go to next field\n\t\t\t\t\t\t\t\tif (activeField === fields.length - 1) {\n\t\t\t\t\t\t\t\t\t// last field, so submit\n\t\t\t\t\t\t\t\t\thandleSubmit()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tinput.onBlur() // mark as touched to show error\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}} />))}\n\t\t\t\t\t{\n\t\t\t\t\t\tsubmission\n\t\t\t\t\t\t?\n\t\t\t\t\t\t<Fetcher\n\t\t\t\t\t\t\tfetchData={wpManagerClient.installProjectServiceWordpress.bind(null, submission)}\n\t\t\t\t\t\t\tbeforeLoadingMessage={`Installing WP`}\n\t\t\t\t\t\t\tdataMapper={(response) => {\n\t\t\t\t\t\t\t\tonData(submission);\n\t\t\t\t\t\t\t\treturn response && response.status === 200 ? 'Worpress installed!':'Something went wrong';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t''\n\t\t\t\t\t}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Form>\n\t)\n}\nexport default memo(Install);","import React, { useState } from 'react';\nimport { Box, Color } from 'ink';\nimport Generate from './create';\nimport Create from '../services/create';\nimport Install from '../services-wordpress/install';\nimport Link from 'ink-link';\n\nconst getName = data => data.project.prefix;\n\n/// Kickstart project\nconst ProjectKickstart = () => {\n    const [ firstTaskData, setFirstTaskData ] = useState();\n    const [ secondTaskData, setSecondTaskData ] = useState();\n    const [ thirdTaskData, setThirdTaskData ] = useState();\n\n    const getInitialValues = ({ project: { prefix: projectPrefix, webserver: { port } } }) => ({\n        projectPrefix,\n        container: `${projectPrefix}-wordpress`,\n        network: `${projectPrefix}-wp-network`,\n        url: `0.0.0.0:${port}`\n    });\n\n    return (\n        <Box flexDirection=\"column\">\n            <Generate onData={setFirstTaskData} />\n            {\n                firstTaskData || secondTaskData ?\n                <Create\n                    name={getName(firstTaskData)}\n                    onData={setSecondTaskData}\n                /> :\n                ''\n            }\n            {\n                secondTaskData ?\n                <Install\n                    initialValues={getInitialValues(firstTaskData)}\n                    onData={setThirdTaskData}\n                /> :\n                ''\n            }\n            {\n                thirdTaskData ?\n                <Link url={`http://${thirdTaskData.url}`}>\n                    <Color green>Open wordpress site</Color>\n                </Link>\n                :\n                ''\n            }\n        </Box>\n    );    \n};\n\n\nexport default ProjectKickstart;\n"]}